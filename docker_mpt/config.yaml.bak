# Telegram API Configuration
api_id: 123
api_hash: "5844858"

# Multi-Account Configuration
accounts:
  - name: "account1"  # 账户名称，用于区分不同账户
    session_name: "bot_session_1"  # 会话文件名
    enabled: true  # 是否启用此账户
    admin_ids: []  # 此账户的管理员ID列表
    monitoring:
      enabled_chats: []  # 此账户监控的聊天ID列表
      monitor_private_bots: true  # 是否监控与机器人的私聊
      bot_usernames: []  # 要监控的机器人用户名列表，为空则监控所有机器人
      auto_forward_media: true  # 是否自动转发媒体文件（不需要关键词）
    keywords: []  # 此账户的关键词列表
    forwarding:
      rules: []  # 此账户的转发规则
      fallback_to_upload: true  # 转发失败时是否尝试重新上传
    storage:
      download_path: "./downloads/account1"  # 此账户的下载路径
      auto_download: true
      file_naming: "{chat_id}_{message_id}_{timestamp}_{filename}"  # 文件命名格式
    custom_api:  # 可选，自定义 Telegram API 服务器参数
      enable: false  # 新增开关，true为启用自定义API，false为禁用
      host: "your.api.server.com"
      port: 443
      public_key: "YOUR_PUBLIC_KEY"

  - name: "account2"
    session_name: "bot_session_2"
    enabled: false
    admin_ids: []
    monitoring:
      enabled_chats: []
      monitor_private_bots: true
      bot_usernames: []
      auto_forward_media: true
    keywords: []
    forwarding:
      rules: []
      fallback_to_upload: true
    storage:
      download_path: "./downloads/account2"
      auto_download: true
      file_naming: "{chat_id}_{message_id}_{timestamp}_{filename}"
    # custom_api:  # 如需自定义API服务器，取消注释并填写
    #   enable: true
    #   host: "your.api.server.com"
    #   port: 443
    #   public_key: "YOUR_PUBLIC_KEY"

# Database Configuration
database:
  url: "sqlite:///bot.db"

# Logging Configuration
logging:
  level: "INFO"
  format: "%(asctime)s - %(name)s - %(levelname)s - %(message)s"
  file: "bot.log"

# Storage Configuration
storage:
  download_path: "storage/downloads"
  auto_download: false  # 是否自动下载文件
  # File naming format: {chat_id}_{message_id}_{timestamp}_{filename}
  file_naming: "{chat_id}_{message_id}_{timestamp}_{filename}"

# Monitoring Configuration
monitoring:
  enabled_chats: []  # List of chat IDs to monitor
  keywords: []  # List of keywords to monitor
  case_sensitive: false

# Forwarding Configuration
forwarding:
  rules: []  # List of forwarding rules
  # Fallback to download and re-upload if direct forward fails
  fallback_to_upload: true

# 说明：
# custom_api 字段为可选项，如需自定义 Telegram API 服务器请填写 host、port、public_key。
# 普通用户无需填写此项。

